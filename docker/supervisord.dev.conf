[supervisord]
nodaemon=true
logfile=/dev/null
logfile_maxbytes=0

[program:daphne]
command=gosu appuser daphne -b 0.0.0.0 -p 8000 config.asgi:application
directory=/app/backend
autostart=true
autorestart=true
stdout_logfile=/dev/fd/1
stdout_logfile_maxbytes=0
stderr_logfile=/dev/fd/2
stderr_logfile_maxbytes=0

[program:vite]
command=gosu appuser npm run dev -- --host 0.0.0.0 --port 3000
directory=/app/frontend
environment=HOME="/home/appuser",NPM_CONFIG_CACHE="/home/appuser/.npm"
autostart=true
autorestart=true
stdout_logfile=/dev/fd/1
stdout_logfile_maxbytes=0
stderr_logfile=/dev/fd/2
stderr_logfile_maxbytes=0
